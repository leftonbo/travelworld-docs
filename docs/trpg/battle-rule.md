# 戦闘ルール

もし旅の途中で敵と遭遇してしまった場合、【戦闘】は避けられない障害です。 戦闘のシーンに突入したら、以下のルールに従って戦闘処理を行います。

## 戦闘開始処理

戦闘を行う前に、以下の処理を行い戦闘処理の準備を行います。 NPC側の準備はPC側よりも先に行ってください。

1. **味方・敵チームの設定**
    - 原則としてPCの居る側を味方チーム、そうでない側を敵チームとします。
2. **隊列の決定**
    - 通常、PCは前列・後列・安全エリアのどちらかに入ることができます。
    - 特殊な場合を除き、全員が後列に移動することはできません。
3. **キャラクターの戦闘準備**
    - 戦闘に参加するキャラクターは戦闘準備として、1ターン分の行動を行うことができます。
    - この行動で相手チームへの干渉をすることはできません。
4. **先攻チームの決定**
    - 先攻チームを決めるため、戦闘に参加するキャラクター全員は判定《機敏＋知力》を行います。
    - 最も高い達成値を出したキャラクターのチームが先攻になります。
5. **ラウンド数の初期化**
    - ラウンド数は1から始まります。

## 戦闘メイン処理

戦闘中のキャラクター全ての手番(ターン)が終わるまでの一連の流れを【ラウンド】と呼びます。 ラウンド処理は以下の順に沿って行い、戦闘を処理していきます。

1. **チームのターン設定**
    - ターン処理は、先攻チームのキャラクター全員が行動し終えた後、後攻チームのキャラクター全員が行動します。
1. **チームごとの行動:**
    1. **チームのターン開始処理**
        - キャラクターのMpを全回復します (忘れないで！)。
    1. **チームの行動実行**
        - 未行動のキャラクターは好きな順番で【ターン処理】を行います。
    1. **チームのターン終了処理**
        - ターン終了時に行う効果がある場合、その処理を行います。
1. **ラウンド終了処理**
    - 戦闘を継続するか、しないかをGMが判断します。
    - 戦闘が継続する場合、
        - ラウンド終了時に行う効果の処理を行います。
        - ラウンド数を +1 してラウンド開始処理に戻ります。

## キャラクター単位のターン処理

キャラクターが戦闘中に行う一連の行動を【ターン処理】と呼びます。 自分のターンが発生する度に、以下の処理を順番に行います。

1. **サブアクションの実行**
    - サブアクションとして宣言可能なスキルの宣言、あるいは判定の必要がない行動を何度でも行うことができます。
1. **メインアクションの実行**
    - メインアクションとして宣言可能なスキルの宣言、あるいは判定が必要な行動を1つだけ行うことができます。

## 戦闘エリア

戦闘エリアはチームごとに前列エリア・後列エリア・安全エリアに分かれています。

- **前列エリア**
    - 相手の前列エリアに近接攻撃をすることができるエリアです。
- **後列エリア**
    - 相手から近接攻撃の影響を受けることはなく、遠隔攻撃の影響は受けるエリアです。
- **安全エリア**
    - 戦闘から離脱しているものとして扱われ、戦闘に干渉することもされることもありません。

### エリア詰めの処理

戦闘中、どちらか一方のサイドの前列エリアに行動可能なキャラクターが居ない場合、そのサイドは誰かのターン終了処理時に後列エリアのキャラクターは全て前列エリアに移動させられます。

## 特別な戦闘エリア

戦闘開始時の状況によっては、通常とは異なる戦闘エリアのルールを用いる場合があります。

- **逃走不能**
    - 逃げ道が確保されていない場合の戦闘では、安全エリアは使用できません。
- **不意打ち**
    - 不意打ちを受けたチームは、全員が前列に居る状態から戦闘が開始し、キャラクターの戦闘準備を行うことができません。
- **包囲状態**
    - 包囲を受けたチームは、前列以外の戦闘エリアを使用することができません。
- **狭い場所での戦闘**
    - 廊下や渡り橋など狭い場所での戦闘では、その狭さに応じて前衛エリアに1～3人までしか入る事ができません。
- **離れた場所同士での戦闘**
    - 間を谷が挟んでいる場合や、カーチェイスの射撃戦などでは後列と安全エリアのみ使用でき、敵と近接することができません。

## 攻撃処理の手順

戦闘中の攻撃の処理は次のように行います。

- 攻撃側は攻撃に使用する【メインアクション】の宣言をし、その行動の判定と威力決定を行います。
- 攻撃を受けることが確定した防御側は【回避判定】を行います。
- 攻撃ごとに防御側のダメージ処理を行います。

### 攻撃判定

敵に攻撃するあらゆる行動は原則として【メインアクション】であり、【攻撃判定】で達成値を決定しなければなりません。攻撃のためのスキルを宣言したら、【攻撃判定】と【威力決定】を同時に行います。

攻撃判定は基本的に3つの種類があり、それによって使用する能力値が異なります。

**近接攻撃《筋力＋機敏》**

:   近接武器を使った攻撃です。素手攻撃もこの判定です。

**射撃攻撃《機敏＋知性》**

:   射撃武器を使った攻撃です。投擲物を使用した攻撃もこの判定です。

**魔法攻撃《知性＋精神》**

:   魔法スキルを使った攻撃です。

### 回避判定

攻撃を受けるキャラクターは【回避判定】を行います。
成功することで、その攻撃から受ける影響を完全に無視することができます。

攻撃判定に対する【回避判定】は常に《機敏＋知性》によって行います。

## ダメージの種類

ダメージの記述には次のような種類があります。

**【ダメージを受ける】**

:   防護点で軽減、その他あらゆる方法で軽減できます。軽減できなかった分だけHpが減ります。

**【Hpが減る】**

:   現在Hpが直接減ります。いかなる方法でも軽減できません。

## ダウン状態と再起不能

ダメージによってHpが0になると【ダウン状態】になり、【ライフポイントが-1】されます。

PCの場合、ライフポイントが残っていれば誰かに【救助】されるか、Hp回復の効果を受けることで復帰することができます。

ライフポイントが 0 になると【再起不能】になります。再起不能になったキャラクターは救助することはできません。

!!! info "ダウン状態を回復させるときは"

    救助を含め、戦闘不能の味方の Hp を回復させる場合は必ず Hp 0 から 回復させてください。

!!! error "再起不能になってしまったら"

    再起不能になったキャラクターは、そのシナリオから一時的に脱落することになってしまいます。

## 一時変化

スキルの効果でキャラクターに【一時変化】が発生し、一時的な状態変化を受けることがあります。

一時変化は【効果名】と【蓄積値】の組で表され、蓄積値は効果の強さを表します。

同じキャラクターに、既に受けている効果名と同じ一時変化を受けると、一時変化の【重複】となります。重複が発生した場合、特に明記がない場合は【蓄積値を合算】します。

一時変化は【解消】が行われるまで、同じシーン中は常に効果が発生します。一時変化は原則として、シーンの終了時にすべて解消されます。
